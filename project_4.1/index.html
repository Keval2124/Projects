<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>ToDo List using Javascript</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://kit.fontawesome.com/391e6a689e.js" crossorigin="anonymous"></script>
    <script type="text/javascript" src="assets/js/lib/jquery-3.4.1.min.js"></script>
</head>

<body>
    <div id="container">
        <h1>Javascript To-Do List<i class="fa fa-plus rotated"></i></h1>
        <input onblur="this.placeholder = 'What do you want to do?'" onfocus="this.placeholder = ''" placeholder="What do you want to do?" type="text">
        <ul id="list">

        </ul>
    </div>


<script type="text/javascript">
let ul = document.getElementById('list');
let input = document.querySelector("input");
let toggle = document.querySelector('.fa-plus');
toggle.addEventListener('click', function() {
    toggle.classList.toggle('rotated');
    input.classList.toggle('hide');
});

input.addEventListener('keydown', function(e) {
    if (e.keyCode === 13 && input.value !== '') {
        addTodo();
    };
});

function deleted() {
    let spans = document.querySelectorAll('span');
    for (let span of spans) {
        span.addEventListener('click', function() {
            this.parentNode.parentNode.removeChild(this.parentNode);
        });
    };
};

let addTodo = () => {
    let listItem = document.createElement('li');
    listItem.innerHTML = '<span><i class="far fa-trash-alt"></i></span> ' + input.value;
    listItem.addEventListener("click", function() {
        this.classList.toggle("lineThrough");
    });
    ul.appendChild(listItem);
    deleted();
    input.value = '';
};
  </script> 
</body>  
</html> 